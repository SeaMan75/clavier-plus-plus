<h1>Documentation de Clavier+</h1>

<p class="doc-toc">
<a href="#author">Auteur</a>
<a href="#license">Licence</a>
<a href="#setup">Installation</a>
<a href="#utility">Ce que permet de faire Clavier+</a>
<a href="#add">Créer un raccourci clavier</a>
<a href="#conditions">Conditions sur les raccourcis</a>
<a href="#text">Actions des raccourcis de type texte</a>
<a href="#print">Imprimer la liste des raccourcis clavier</a>
<a href="#conffile">Fichiers de configuration</a>
<a href="#cmdline">Options de la ligne de commande</a>
<a href="#limits">Problèmes connus</a>
<a href="#faq">Questions fréquentes (FAQ)</a>
<a href="#examples">Exemples de raccourcis clavier</a>


<h2 style="clear: both"><a href="{{MAIN_URL}}">Site Web de Clavier+</a></h2>


<h2 id="author">Auteur</h2>

<p><a href="https://gryder.org">Guillaume Ryder</a>


<h2 id="license">Licence</h2>

<p>Clavier+ est soumis à la <a href="https://www.gnu.org/licenses/gpl-3.0.fr.html">licence GPLv3</a>. Elle vous donne le droit d’utiliser, copier, distribuer le logiciel, chez vous ou en entreprise, le tout gratuitement.

<p>Clavier+ est fourni sans aucune garantie, je ne pourrai être tenu pour responsable des éventuels préjudices imputables à son usage.

<p>Le code source intégral de Clavier+ est disponible à l’adresse suivante&nbsp;:<br>
<a href="https://github.com/guilryder/clavier-plus"><kbd>https://github.com/guilryder/clavier-plus</kbd></a>


<h2 id="setup">Installation</h2>

<p>Clavier+ est disponible en quatre versions&nbsp;:
<ul>
<li><b>Avec</b> programme d’installation&nbsp;: <a href="ClavierSetup.exe"><kbd>ClavierSetup.exe</kbd></a>
<li><b>Sans</b> programme d’installation&nbsp;: <a href="Clavier.zip"><kbd>Clavier.zip</kbd></a>
</ul>

<p>Pour installer Clavier+ manuellement, sans le programme d’installation&nbsp;:
<ol>
<li>Téléchargez le <a href="Clavier.zip">fichier Zip</a> et décompressez-le.
<li>Lancez <kbd>Clavier.exe</kbd>.
<li>Si vous souhaitez que les raccourcis soient effectifs en permanence, relancez <kbd>Clavier.exe</kbd> pour afficher la fenêtre de configuration, puis cochez la case <i>Lancer Clavier+ au démarrage de Windows</i>.
</ol>

<p>Pour désinstaller Clavier+ après une installation manuelle&nbsp;:
<ol>
<li>Dans la configuration de Clavier+, décochez si nécessaire la case <i>Lancer Clavier+ au démarrage de Windows</i>.
<li>Quittez Clavier+ en cliquant sur le bouton à ce nom.
<li>Supprimez les fichiers de Clavier+.
</ol>


<h2 id="utility">Ce que permet de faire Clavier+</h2>

<p>Clavier+ permet d’associer une action à n’importe quel raccourci clavier. Ces actions peuvent être&nbsp;:
<ul>
<li>lancer un programme ou une application&nbsp;: Microsoft Word, calculatrice, navigateur Internet, etc.
<li>afficher un site Internet
<li>ouvrir un dossier&nbsp;: <i>Mes documents</i>, disque <kbd>C:</kbd>, disque dur externe, etc.
<li>écrire des caractères spéciaux&nbsp;: majuscules accentuées, symboles ® et ©, etc.
<li>écrire du texte&nbsp;: adresse e-mail, formule de politesse, etc. dans n’importe quel programme (Microsoft Word, navigateur Internet, bloc-notes)
<li>simuler des frappes de touches, notamment pour exécuter une commande située dans le menu d’un programme
<li>simuler des déplacements et clics de souris ou des actions sur la molette
</ul>

<p>Vous pouvez également glisser-déposer un fichier ou un programme dans la fenêtre de configuration de Clavier+ pour créer un raccourci qui l’exécute.

<p>Les raccourcis clavier peuvent utiliser (<a href="#limits-unavailable-shortcuts">presque</a>) toutes les touches du clavier. La touche Windows, située à côté de la barre d’espace, peut être employée en complément de <kbd>Ctrl</kbd>, <kbd>Alt</kbd> et <kbd>Maj</kbd>. Comme les logiciels utilisent rarement cette touche, de nombreux raccourcis clavier simples sont disponibles&nbsp;: <kbd>Ctrl + Win + A</kbd>, <kbd>Win + =</kbd>, etc.

<p>Clavier+ peut également modifier le comportement des touches spéciales comme <kbd>²</kbd> ou <kbd>F11</kbd>. On peut ainsi associer à une action fréquente un raccourci clavier à une seule touche.

<p>Si nécessaire, l’action d’un raccourci clavier peut dépendre du programme actif. Cela permet d’ajouter des raccourcis clavier à un programme en particulier.

<p>De même, l’action d’un raccourci clavier peut dépendre de l’état des touches bascules, c’est-à-dire les touches comportant des petites lumières sur le clavier&nbsp;: verrouillage majuscule, pavé numérique, arrêt défilement. Cela permet, par exemple, d’écrire les majuscules accentuées au lieu des chiffres quand le verrouillage majuscule est activé.

<p><a href="#examples">Exemples de raccourcis</a>


<h2 id="add">Créer un raccourci clavier</h2>

<p>Lancez Clavier+. Une icône en forme de clavier apparaît dans la <a href="https://support.microsoft.com/fr-fr/windows/e159e8d2-9ac5-b2bd-61c5-bb63c1d437c3">zone de notification</a>&nbsp;: elle indique que Clavier+ est lancé, donc que les raccourcis clavier sont actifs. Cliquez sur l’icône pour afficher la fenêtre de configuration. Vous pouvez redimensionner la fenêtre si vous la trouvez trop petite. La zone supérieure contient la liste des raccourcis créés. Plusieurs sont créés initialement, à titre d’exemple.

<p>Pour créer un nouveau raccourci, cliquez sur le bouton <i>Ajouter</i> (en forme de +), et choisissez l’action du raccourci clavier&nbsp;:
<ul>
<li><b>Programme&nbsp;:</b> exécuter un programme du menu Démarrer
<li><b>Application&nbsp;:</b> exécuter une application Microsoft Store
<li><b>Caractère spécial&nbsp;:</b> écrire un caractère spécial
<li><b>Ouvrir un dossier&nbsp;:</b> afficher le contenu d’un dossier dans l’explorateur
<li><b>Écrire du texte&nbsp;:</b> simuler la frappe d’un texte, avec éventuellement l’exécution de raccourcis clavier intermédiaires (par exemple la touche <kbd>Tab</kbd> pour passer au champ suivant dans un formulaire) ou le lancement de commandes spéciales (clics de souris, modification du presse-papiers, …).
<li><b>Lancer un programme&nbsp;:</b> lancer un programme absent du menu Démarrer, ou exécuter une ligne de commande quelconque
<li><b>Afficher un site Internet&nbsp;:</b> ouvrir un site avec votre navigateur Internet
</ul>

<p>Ensuite, une boîte de dialogue apparaît pour saisir le raccourci clavier. Effectuez votre raccourci clavier dans la zone prévue à cet effet&nbsp;: son nom devrait s’écrire dans la zone. Cliquez enfin sur <i>OK</i>.

<p>Si nécessaire, modifiez l’action du raccourci dans la moitié inférieure de la boîte de dialogue. Si le raccourci doit écrire du texte, par exemple une formule de politesse, vérifiez que l’option <i>Écrire du texte</i> est cochée puis entrez le texte voulu dans la zone située en-dessous. À chaque fois que le raccourci sera effectué, le texte spécifié sera écrit. Vous pouvez utiliser le <a href="clavier_arrow_menu_FR.png">menu flèche</a> pour insérer des caractères spéciaux ou simuler une frappe de touches.

<p>Si le raccourci doit lancer un programme ou afficher un site Internet, cochez l’option correspondante. Entrez le chemin d’accès du programme ou l’adresse du site Web dans la zone. Vous pouvez cliquer sur le petit bouton situé à droite pour chercher le programme à lancer. Vous pouvez vérifier que le programme ou le site Internet est correct avec le bouton <i>Tester</i>. Si nécessaire, cliquez sur le bouton <i>Paramètres avancés</i> pour régler le répertoire de démarrage du programme ou son mode d’affichage (plein écran, fenêtré, réduit).

<p><span class="ipt">Important&nbsp;:</span> vous devez fermer la fenêtre de Clavier+ <i>avant</i> de tester vos raccourcis clavier. Tant que la fenêtre est visible, les raccourcis clavier sont désactivés.


<h2 id="conditions">Conditions sur les raccourcis</h2>

<p>Vous pouvez limiter la reconnaissance du raccourci à certaines conditions. Si toutes les conditions sont vérifiées, l’action associée au raccourci est exécutée. Si une ou plusieurs conditions ne sont pas remplies, Clavier+ ignore le raccourci, et l’action originale du raccourci est effectuée (celle de Windows ou du programme actif). Cela permet de donner des effets différents au même raccourci clavier.

<p><span class="ipt">Attention&nbsp;!</span> Si vous créez plusieurs entrées pour le même raccourci, veillez à leur affecter des conditions mutuellement exclusives. Dans le cas contraire, un message d’erreur s’affichera avant la validation. Par exemple, si vous voulez associer <kbd>Ctrl + X</kbd> au bloc-notes quand le pavé numérique est activé et à la calculatrice dans les autres cas, vous <i>devez</i> donner la condition «&nbsp;Verr. Num.&nbsp;: doit être désactivé&nbsp;» au second raccourci. En effet, «&nbsp;Verr. Num.&nbsp;: pas de condition&nbsp;» peut créer une ambigüité avec d’autres raccourcis, comme <kbd>Ctrl + X</kbd> avec la condition «&nbsp;Verr. Maj.&nbsp;: doit être activé&nbsp;».

<p><span class="ipt">Important&nbsp;:</span> les raccourcis avec conditions souffrent de <a href="#limits-conditions">certaines limitations</a>.


<h3 id="conditions-active">Programme actif</h3>

<p>Vous pouvez restreindre un raccourci à certains programmes. Cela permet de donner des effets différents au même raccourci clavier, selon le programme courant. Par défaut, les raccourcis sont activés pour «&nbsp;tous les programmes sauf&nbsp;: <i>aucun</i>&nbsp;», c’est-à-dire pour tous les programmes.

<p>Vous pouvez définir deux types de conditions sur le programme actif. Le raccourci peut être activé pour tous les programmes, sauf certains que vous spécifiez (critère exclusif), ou bien seulement pour certains programmes que vous spécifiez (critère inclusif). Commencez par indiquer votre choix dans la liste déroulante <i>Activer pour</i>, après avoir sélectionné votre raccourci dans la liste.

<p>Ensuite, pour définir la liste des programmes concernés par la condition, cliquez sur le viseur noir sur fond blanc situé en bas à droite. Laissez le bouton de la souris enfoncé, puis déplacez le viseur sur la fenêtre du programme voulu (par exemple, une fenêtre du bloc-notes ou de l’explorateur). Le nom du programme s’inscrit dans la zone située à gauche du viseur. Répétez l’opération pour chaque programme à ajouter.

<p>Pour une combinaison de touches donnée, vous pouvez définir plusieurs raccourcis de type <i>seulement ces programmes</i>, à condition que les programmes indiqués ne se recoupent pas. Dans tous les cas, vous ne pouvez définir qu’un seul raccourci de type <i>tous les programmes sauf</i>.

<p>Les raccourcis de type <i>seulement ces programmes</i> sont prioritaires sur ceux de type <i>tous les programmes sauf</i>. Si vous associez la condition «&nbsp;seulement ces programmes&nbsp;: <kbd>notepad.exe</kbd>&nbsp;» à un premier raccourci et «&nbsp;tous les programmes sauf&nbsp;: <i>aucun</i>&nbsp;» à un second raccourci, que les deux raccourcis ont la même séquence de touches, et que vous effectuez cette séquence de touches dans le bloc-notes, le premier raccourci sera exécuté, le second sera ignoré.


<h3 id="conditions-toggle-keys">État des touches bascule</h3>

<p>Vous pouvez modifier l’action d’un raccourci selon l’état des touches bascule&nbsp;: verrouillage majuscule, pavé numérique, arrêt défilement. Vous pouvez par exemple créer un raccourci qui ne sera actif que si le mode verrouillage majuscule est activé.

<p>Pour cela, double-cliquez sur le raccourci souhaité dans la liste, ou bien sélectionnez-le et cliquez sur le bouton en forme de crayon. Dans la zone <i>Conditions d’activation</i>, définissez la condition portant sur chaque touche bascule. Vous pouvez imposer que la touche soit activée, désactivée, ou bien ne pas imposer de condition.


<h2 id="text">Actions des raccourcis de type texte</h2>

<p>Dans la zone de texte <i>Écrire du texte</i>, vous pouvez ordonner l’exécution de plusieurs actions&nbsp;:


<h3 id="text-typing">Écrire du texte</h3>

<p>Il suffit d’écrire votre texte tel quel. La commande <i>Écrire un caractère</i> du <a href="clavier_arrow_menu_FR.png">menu flèche</a> permet d’écrire les caractères inaccessibles au clavier.

<p>La frappe de texte ne fonctionne pas avec certains programmes. Vous pouvez alors utiliser la syntaxe <kbd>[|<i>texte à écrire</i>|]</kbd> pour forcer Clavier+ à écrire le texte en bas niveau (meilleure compatibilité mais plus lent et plus limité).


<h3 id="text-simulating-keystroke">Simuler des frappes de touches</h3>

<p>Utilisez la commande <i>Simuler une frappe de touches</i> du <a href="clavier_arrow_menu_FR.png">menu flèche</a> pour écrire le code correspondant à la frappe de touches souhaitée. Typiquement, ce code est le nom de la combinaison de touches entre crochets, par exemple <kbd>[Ctrl+O]</kbd>.

<p>Notez que simuler une frappe de touches permet d’effectuer de nombreuses actions, notamment manipuler le presse-papiers (avec <kbd>Ctrl + C</kbd> et <kbd>Ctrl + V</kbd>) ou exécuter une commande dans un menu (avec <kbd>Alt + <i>lettre</i></kbd>).


<h3 id="text-launching-program">Lancer un programme</h3>

<p>Utilisez la commande <i>Lancer un programme</i> du <a href="clavier_arrow_menu_FR.png">menu flèche</a>, ou bien écrivez la ligne de commande à exécuter entre double crochets. Par exemple, pour ouvrir un fichier texte et aller à la fin&nbsp;:<br>
<kbd>[[notepad.exe C:\\urgent.txt]][][Ctrl+Fin]</kbd>

<p>Cette syntaxe permet de lancer plusieurs programmes à la fois avec le même raccourci. Par exemple, pour lancer le bloc-notes et la calculatrice&nbsp;:<br>
<kbd>[[notepad.exe]][[calc.exe]]</kbd>

<p>La ligne de commande peut contenir des variables d’environnement entre <kbd>%</kbd>, par exemple <kbd>explorer.exe %WINDIR%</kbd> pour ouvrir l’explorateur au répertoire d’installation de Windows. La variable d’environnement <kbd>%CLIPBOARD%</kbd> contiendra le texte actuellement présent dans le presse-papiers. Par exemple, pour ouvrir l’URL sélectionnée avec Internet Explorer&nbsp;:<br>
<kbd>[Ctrl+C][][[iexplore.exe %CLIPBOARD%]]</kbd>


<h3 id="text-syncing">Synchroniser</h3>

<p>Si vous enchaînez plusieurs actions, il peut être utile de leur laisser le temps de s’exécuter. Pour cela écrivez une paire de crochets&nbsp;: <kbd>[]</kbd>. Cela attendra 100 millisecondes puis détectera la nouvelle fenêtre active. Vous pouvez aussi utiliser la commande <a href="#Focus"><kbd>[{Focus}]</kbd></a>, qui offre un meilleur contrôle du délai.

<p>Ce dernier point est très important. Si vous simulez une frappe de touches qui affiche une nouvelle fenêtre (par exemple <kbd>Ctrl + O</kbd> qui affiche la fenêtre <i>Ouvrir</i>) et qu’ensuite vous simulez de la frappe de texte (par exemple le nom d’un fichier), il faut indiquer à Clavier+ de taper le texte dans la <em>nouvelle</em> fenêtre affichée&nbsp;:<br>
<kbd>[Ctrl+O][]MonFichier.txt[ENTREE]</kbd>

<p>Même remarque si vous lancez un programme. Il faut demander à Clavier+ de se repositionner sur la nouvelle fenêtre active, en général celle du programme lancé&nbsp;:<br>
<kbd>[Ctrl+C][[notepad.exe]][][Ctrl+V]</kbd><br>
Ce raccourci copie le texte actuellement sélectionné dans le presse-papiers, lance le bloc-notes, puis y colle le texte copié. Le <kbd>[]</kbd> est très important, il indique à Clavier+ de coller dans la <em>nouvelle</em> fenêtre active, c’est-à-dire celle du bloc-notes qui vient de s’ouvrir.


<h3 id="text-special-commands">Exécuter des commandes spéciales</h3>

<p>Le <a href="clavier_arrow_menu_FR.png">menu flèche</a> liste les commandes prises en charge&nbsp;:

<dl>
<dt><kbd id="Wait">[{Wait,<i>durée</i>}]</kbd>
<dd>Faire une pause de la durée spécifiée, en millisecondes.

<dt><kbd id="Focus">[{Focus,<i>délai</i>,<i>fenêtre</i>}]</kbd>
<dd><div>Détecter ou changer la fenêtre active. Les paramètres sont facultatifs.</div>
<p>Si non-vide, <i>délai</i> est le nombre de millisecondes qu’il faudra attendre avant d’avoir activé la fenêtre. En effet, il peut être utile de laisser à la fenêtre le temps d’apparaître avant de lui envoyer du texte. Si <i>délai</i> n’est pas spécifié, le délai d’attente est nul.
<p>Si <i>fenêtre</i> est vide, Clavier+ détecte la nouvelle fenêtre active. Les futures frappes de touches seront envoyées à cette fenêtre. Utile si une frappe de touches affiche une nouvelle fenêtre dans laquelle il faut écrire. Exemple&nbsp;:<br>
<kbd>[{Focus}]</kbd> ou <kbd>[{Focus,200}]</kbd>
<p>Si <i>fenêtre</i> n’est pas vide, Clavier+ active la première fenêtre qui a le nom spécifié. Le nom peut contenir les <em>wildcards</em> <kbd>*</kbd> et <kbd>?</kbd>. Échappez les virgules avec un antislash comme s’il s’agissait d’un <a href="#text-special-chars">caractère spécial</a>. Exemple&nbsp;:<br>
<kbd>[{Focus,50,* - Microsoft Word}]</kbd> ou <kbd>[{Focus,,Titre\, sous-titre}]</kbd>
<p>Par défaut, le raccourci est stoppé si la fenêtre n’est pas trouvée. Pour forcer la poursuite du raccourci même si la fenêtre n’est pas trouvée, ajoutez un point d’exclamation <kbd>!</kbd> devant le titre de la fenêtre à chercher. Pour chercher une fenêtre dont le titre commence par <kbd>!</kbd>, échappez le point d’exclamation avec un antislash comme s’il s’agissait d’un <a href="#text-special-chars">caractère spécial</a>. Exemples&nbsp;:<br>
<kbd>[{Focus,0,*Internet Explorer}][Alt+F4]</kbd> quitte la première fenêtre d’Internet Explorer trouvée, mais ne fait rien si Internet Explorer n’est pas lancé.<br>
<kbd>[{Focus,0,!Sans titre*}]Test</kbd> écrit <kbd>Test</kbd> dans la fenêtre commençant par <kbd>Sans titre</kbd>, ou dans la fenêtre active si une telle fenêtre n’existe pas.<br>
<kbd>[{Focus,0,\!Attention!}]</kbd> active la fenêtre dont le titre est <kbd>!Attention!</kbd>.
<p>Noter que <kbd>[{Focus,100}]</kbd> est équivalent à <kbd>[]</kbd>.

<dt><kbd id="FocusOrLaunch">[{FocusOrLaunch,<i>fenêtre</i>,<i>commande</i>,<i>délai</i>}]</kbd>
<dd><div>Active une fenêtre comme le ferait <a href="#Focus"><kbd>[{Focus,,<i>fenêtre</i>}]</kbd></a>, ou bien lance un programme et attend comme le ferait <a href="#text-launching-program"><kbd>[[<i>commande</i>]][{Wait,<i>délai</i>}]</kbd></a> si la fenêtre demandée n’existe pas.</div>
<p>Si non-vide, <i>délai</i> est le nombre de millisecondes que Clavier+ attend après avoir lancé le programme. Si Clavier+ ne trouve pas la fenêtre demandée ou si <i>délai</i> n’est pas spécifié, le délai d’attente est nul.
<p>Clavier+ active la première fenêtre qui a le nom spécifié&nbsp;; voir <a href="#Focus"><kbd>[{Focus}]</kbd></a> pour la syntaxe (exception&nbsp;: <kbd>!</kbd> n’a pas de signification particulière et n’a pas besoin d’être échappé).
<p>Si Clavier+ ne trouve pas la fenêtre demandée, il exécute la commande spécifiée, puis le cas échéant fait une pause de la durée spécifiée.
<p>Exemples&nbsp;:<br>
<kbd>[{FocusOrLaunch,* - Bloc-notes,notepad.exe}]</kbd> active une fenêtre du Bloc-notes si une existe, ou bien lance le Bloc-notes.<br>
<kbd>[{FocusOrLaunch,* - Bloc-notes,notepad.exe,100}]Bonjour</kbd> active une fenêtre du Bloc-notes si une existe, ou bien lance le Bloc-notes et attend 100 millisecondes. Dans les deux cas, écrit <kbd>Bonjour</kbd> dans le Bloc-notes.<br>
<kbd>[{FocusOrLaunch,un\,deux,C:\\programme.exe un\,deux}]</kbd> active la fenêtre dont le titre est <kbd>un,deux</kbd> si elle existe, sinon exécute <kbd>C:\progamme.exe un,deux</kbd>.

<dt><kbd id="Copy">[{Copy,<i>texte</i>}]</kbd>
<dd>Copier le texte spécifié dans le presse-papiers. Attention&nbsp;! Cette commande n’a aucun rapport avec le raccourci clavier <kbd>Ctrl + C</kbd> qui, elle, copie la <i>sélection</i> dans le presse-papiers. Si vous utilisez la séquence de touches <kbd>Ctrl + V</kbd> par la suite, cela permet d’écrire rapidement de très longs textes, ou d’écrire plusieurs fois le même texte. L’exemple suivant écrit cinq fois le même texte&nbsp;:<br>
<kbd>[{Copy,Une longue suite de mots. }][Ctrl+V][Ctrl+V][Ctrl+V][Ctrl+V][Ctrl+V]</kbd>

<dt><kbd id="MouseButton">[{MouseButton,<i>code</i>}]</kbd>
<dd>Simuler une action sur les boutons de la souris. <i>code</i> spécifie l’action à effectuer. Il est constitué d’une ou deux lettres. La première, obligatoire, indiquant le bouton concerné&nbsp;: <kbd>L</kbd> = bouton gauche, <kbd>M</kbd> = bouton du milieu, <kbd>R</kbd> = bouton droit. La seconde, facultative, indique l’action à effectuer&nbsp;: <kbd>D</kbd> = enfoncer le bouton, <kbd>U</kbd> = le relâcher. Si la seconde lettre est absente, le bouton est enfoncé puis relâché&nbsp;: cela simule un clic.
<p>Exemples&nbsp;:<br>
<kbd>[{MouseButton,L}][{MouseButton,L}]</kbd> effectue un double-clic avec le bouton gauche<br>
<kbd>[{MouseButton,RD}][{Wait,1000}][{MouseButton,RU}]</kbd> garde le bouton droit enfoncé pendant 1 seconde

<dt><kbd id="MouseMoveTo">[{MouseMoveTo,<i>x</i>,<i>y</i>}]</kbd>
<dd>Déplacer le curseur de la souris à la position (x,y), spécifiée en pixels par rapport au coin supérieur gauche de l’écran. Par exemple, si vous avez un écran en résolution 1&nbsp;024 &times; 768, la commande suivante déplace le curseur au coin supérieur droit&nbsp;:<br>
<kbd>[{MouseMoveTo,1023,0}]</kbd>

<dt><kbd id="MouseMoveToFocus">[{MouseMoveToFocus,<i>x</i>,<i>y</i>}]</kbd>
<dd>Déplacer le curseur de la souris à la position (x,y), spécifiée en pixels par rapport au coin supérieur gauche de la fenêtre active. Par exemple, pour déplacer la souris sur le menu système de la fenêtre active&nbsp;:<br>
<kbd>[{MouseMoveToFocus,8,8}]</kbd>

<dt><kbd id="MouseMoveBy">[{MouseMoveBy,<i>dx</i>,<i>dy</i>}]</kbd>
<dd>Déplacer le curseur de la souris relativement à sa position courante. <i>dx</i> et <i>dy</i> spécifient respectivement l’amplitude horizontale (resp. verticale) du déplacement, positives pour un déplacement à droite (resp. en bas). Par exemple, pour déplacer la souris de 10 pixels vers la gauche et de 3 vers le bas&nbsp;:<br>
<kbd>[{MouseMoveBy,-10,3}]</kbd>

<dt><kbd id="MouseWheel">[{MouseWheel,<i>ticks</i>}]</kbd>
<dd>Simuler une action sur la molette de la souris. <i>ticks</i> indique le nombre de roulements de molette à simuler. Spécifier une valeur positive pour défiler vers le bas, négative pour défiler vers le haut. Par exemple, pour défiler de deux crans vers le haut&nbsp;:<br>
<kbd>[{MouseWheel,-2}]</kbd>

<dt><kbd id="KeysDown">[{KeysDown,<i>touches</i>}]</kbd>
<dd>Enfonce certaines touches spéciales. <i>touches</i> liste les touches spéciales à enfoncer&nbsp;; Clavier+ ignore les touches normales. Par exemple, pour enfoncer <kbd>Ctrl + Alt</kbd>&nbsp;:<br>
<kbd>[{KeysDown,Ctrl + Alt}]</kbd><br>
Clavier+ garde les touches enfoncées et affectant toutes les commandes qui suivent (sauf l’écriture normale de texte) jusqu’au prochain <kbd>[{KeysDown}]</kbd> ou jusqu’à la fin du raccourci. Par exemple, le raccourci qui suit simule <kbd>Ctrl + Maj + A</kbd>, <kbd>Ctrl + clic gauche</kbd>, puis écrit <kbd>SALUT à tous</kbd>:<br>
<kbd>[{KeysDown,Ctrl}][Maj + A][{MouseButton,L}][{KeysDown,Maj}][|Salut|][] à tous</kbd><br>
<kbd>[{KeysDown}]</kbd> sans touches relâche toutes les touches spéciales.
</dl>


<h3 id="text-special-chars">Caractères spéciaux</h3>

<p>Si vous avez besoin d’insérer les caractères <kbd>\</kbd>, <kbd>[</kbd>, <kbd>]</kbd>, <kbd>{</kbd>, <kbd>}</kbd> ou <kbd>|</kbd>, vous devez le faire précéder d’un antislash. Par exemple&nbsp;:<br>
<kbd>Ceci est un crochet ouvrant: \[, ceci est un seul antislash: \\</kbd><br>
Le <a href="clavier_arrow_menu_FR.png">menu flèche</a> rappelle la liste des caractères spéciaux.

<p>Vous devez écrire un antislash devant les caractères spéciaux partout dans le texte du raccourci, y compris dans les balises spéciales de frappe de touches ou d’exécution de programmes&nbsp;:<br>
<kbd>[[notepad.exe document\[1\].txt]]</kbd> pour ouvrir le fichier nommé <kbd>document[1].txt</kbd> avec le bloc-notes


<h2 id="print">Imprimer la liste des raccourcis clavier</h2>

<p>Dans la fenêtre de Clavier+, cliquez sur le bouton <i>Copier la liste</i>. Cela place la liste des raccourcis clavier dans le presse-papiers&nbsp;: vous pouvez ensuite la coller dans le logiciel de votre choix pour l’imprimer. Si vous utilisez Word, vous pouvez la mettre sous forme de tableaux&nbsp;: lancez Word, collez la liste avec <kbd>Ctrl + V</kbd>, sélectionnez-là avec <kbd>Ctrl + A</kbd>, puis cliquez sur le bouton <i>Insérer un tableau</i>.


<h2 id="conffile">Fichiers de configuration</h2>

<p>Par défaut, Clavier+ utilise un seul fichier de configuration pour stocker ses paramètres&nbsp;: <kbd>Clavier.ini</kbd>, situé dans le même répertoire que le programme. Le programme ne stocke rien dans la base de registre, à l’exception de l’option <i>Lancer Clavier+ au démarrage de Windows</i>.


<h3 id="conffile-multiple">Fichiers de configuration multiples</h3>

<p>Si vous souhaitez utiliser plusieurs jeux de raccourcis, vous pouvez créer plusieurs fichiers de configuration et charger celui qui vous convient. Charger un fichier de configuration peut se faire sans relancer Clavier+.

<p>Le menu de Clavier+, affiché par un clic droit sur l’icône de Clavier+ dans la <a href="https://support.microsoft.com/fr-fr/windows/e159e8d2-9ac5-b2bd-61c5-bb63c1d437c3">zone de notification</a>, propose plusieurs commandes&nbsp;:
<ul>
<li>Liste des fichiers de configuration disponibles&nbsp;: fichiers <kbd>*.ini</kbd> situés dans le répertoire de Clavier+. Cliquez sur un fichier pour le charger.
<li>Charger configuration&nbsp;: charger un fichier de configuration, dans le cas où il ne serait pas dans la liste. Veillez à ne pas charger un fichier de configuration d’un autre programme, ce fichier serait perdu.
<li>Fusionner configuration avec&nbsp;: fusionner un autre fichier de configuration dans le fichier courant. Les raccourcis qui génèreraient des conflits ou des ambigüités ne sont pas ajoutés. En particulier, les raccourcis existants ne sont pas écrasés.
<li>Enregistrer configuration&nbsp;: enregistrer les raccourcis courants dans un nouveau fichier de configuration.
</ul>

<p>Vous pouvez aussi charger un fichier de configuration en lançant Clavier+ avec l’option <kbd>/load</kbd> ou <kbd>/merge</kbd> de la <a href="#cmdline">ligne de commande</a>. Cela permet, notamment, de changer de fichier de configuration par raccourci clavier, en associant dans Clavier+ un raccourci clavier à la ligne de commande&nbsp;:
<pre>clavier.exe /load <i>fichier_de_configuration.ini</i></pre>


<h3 id="conffile-syntax">Syntaxe des fichiers de configuration</h3>

<p>Si vous voulez ajouter d’un seul coup de nombreux raccourcis, voici le format du fichier de configuration&nbsp;:

<pre>
Paramètres globaux
Paramètres du premier raccourci
-       (ligne presque vide, ne comportant qu’un tiret)
Paramètres du second raccourci
-
...
</pre>

<p>Si un fichier de configuration contient plusieurs définitions pour le même raccourci, Clavier+ ne retient que la première définition. Les définitions en double qui suivent sont ignorées. Si vous souhaitez modifier certains de vous raccourcis en copiant-collant leurs définitions mises à jour, insérez la nouvelle configuration au début du fichier.


<h4 id="conffile-syntax-global">Paramètres globaux</h4>

<pre>
Langue=Français <i>ou</i> English <i>ou</i> Deutsch <i>ou</i> Português brasileiro
Taille=<i>largeur</i>,<i>hauteur</i>,<i>agrandie</i>,<i>masquer icône</i>
Colonnes=<i>largeur 1</i>,<i>largeur 2</i>,<i>largeur 3</i>,<i>largeur 4</i>
Tri=<i>numéro colonne</i>
</pre>

<dl>
<dt><kbd>Taille</kbd>
<dd><kbd>largeur,hauteur</kbd>&nbsp;: taille de la fenêtre de configuration, en pixels.<br>
<kbd>agrandie</kbd>&nbsp;: 1 si la fenêtre est agrandie à tout l’écran, 0 sinon.<br>
<kbd>masquer icône</kbd>&nbsp;: 1 pour retirer l’icône de Clavier+ de la <a href="https://support.microsoft.com/fr-fr/windows/e159e8d2-9ac5-b2bd-61c5-bb63c1d437c3">zone de notification</a>, 0 pour la garder visible.

<dt><kbd>Colonnes</kbd>
<dd>Indique la largeur des colonnes de la fenêtre de configuration, excepté la dernière colonne. Chaque largeur est un pourcentage relatif à la largeur totale de la liste. Elles sont séparées par des virgules. La dernière colonne occupe l’espace restant.

<dt><kbd>Tri</kbd>
<dd>Indique le numéro de la colonne utilisée pour trier la liste. 0 pour la première colonne, 1 pour la seconde, et ainsi de suite.
</dl>


<h4 id="conffile-syntax-shortcuts">Paramètres des raccourcis</h4>

<pre>
Raccourci=<i>séquence de touches</i>
Code=<i>code de touche</i>
DistinguerGaucheDroite=<i>0 ou 1</i>
Description=<i>texte de description</i>
Texte=<i>texte à taper quand le raccourci est effectué</i>
&gt;<i>ligne supplémentaire</i>
&gt;<i>autre ligne supplémentaire</i>
...
Commande=<i>programme à lancer quand le raccourci est effectué</i>
Répertoire=<i>répertoire de démarrage</i>
Fenêtre=<i>mode de fenêtre du programme à lancer</i>
Programmes=<i>liste des programmes</i>
TousProgrammesSauf=<i>liste des programmes</i>
VerrMaj=<i>condition</i>
VerrNum=<i>condition</i>
ArrêtDéfil=<i>condition</i>
Utilisations=<i>nombre</i>
</pre>

<p>Notez la nécessité du caractère <kbd>&gt;</kbd> au début des lignes supplémentaires
pour le champ <kbd>Texte=</kbd>.

<p>Les options <kbd>Texte</kbd> d’une part, <kbd>Commande</kbd>, <kbd>Répertoire</kbd> et <kbd>Fenêtre</kbd> d’autre part sont mutuellement exclusives&nbsp;: un raccourci ne peut pas à la fois entrer du texte et lancer un programme.

<dl>
<dt><kbd>Raccourci</kbd>
<dd>Représentation textuelle des touches du raccourci clavier, au même format que dans la fenêtre de paramétrage.

<dt><kbd>Code</kbd>
<dd>Représentation numérique des touches du raccourci clavier. Clavier+ génère et utilise ce code en interne lorsqu’il ne parvient pas à interpréter le champ <kbd>Raccourci</kbd> (par exemple si une mise à jour de Windows a changé le nom des touches du raccourci).

<dt><kbd>DistinguerGaucheDroite</kbd>
<dd>Indique si Clavier+ doit distinguer les touches spéciales situées à gauche et à droite du clavier. Si ce paramètre vaut 1, les touches <kbd>Ctrl</kbd>, <kbd>Alt</kbd>, <kbd>Maj</kbd> et <kbd>Win</kbd> situées à gauche du clavier seront considérées comme différentes des mêmes touches situées à droite. Cela permet de créer plus de raccourcis. Si ce paramètre vaut 0 (valeur par défaut), seul le nom des touches spéciales est pris en compte.

<dt><kbd>Répertoire</kbd> (mode commande uniquement)
<dd>Répertoire de démarrage de la commande. Si aucun répertoire n’est spécifié, Clavier+ lance le programme dans le répertoire de son exécutable.

<dt><kbd>Fenêtre</kbd> (mode commande uniquement)
<dd>Taille initiale de la fenêtre du programme lancé, parmi&nbsp;: <kbd>Normale</kbd>, <kbd>Réduite</kbd>, <kbd>Agrandie</kbd>.

<dt><kbd>Programmes</kbd>, <kbd>TousProgrammesSauf</kbd> (mutuellement exclusifs)
<dd>Condition d’activation du raccourci&nbsp;: liste des seuls programmes pour lesquels le raccourci est activé (<kbd>Programmes</kbd>) ou désactivé (<kbd>TousProgrammesSauf</kbd>). Les programmes sont séparés par des points-virgules, et n’ont pas de chemin d’accès&nbsp;: nom seul, avec extension.

<dt><kbd>VerrMaj</kbd>, <kbd>VerrNum</kbd>, <kbd>ArrêtDéfil</kbd>
<dd>Si présents, définissent une condition d’activation du raccourci. Valeurs possibles&nbsp;: <kbd>Aucune</kbd> (valeur par défaut), <kbd>Oui</kbd> et <kbd>Non</kbd>.

<dt><kbd>Utilisations</kbd>
<dd>Le nombre d’utilisations du raccourci depuis sa création.
</dl>


<h2 id="cmdline">Options de la ligne de commande</h2>

<p>Clavier+ accepte les paramètres de ligne de commande suivants&nbsp;:

<dl>
<dt><kbd>/launch</kbd>
<dd>Lancer Clavier+, si nécessaire, et le laisser s’exécuter en tâche de fond. La fenêtre de configuration n’est pas affichée.

<dt><kbd>/settings</kbd>
<dd>Exécuter Clavier+ en tâche de fond, si nécessaire, puis afficher sa fenêtre de configuration.

<dt><kbd>/menu</kbd>
<dd>Exécuter Clavier+ en tâche de fond, si nécessaire, puis afficher son menu. Le menu peut également être affiché en cliquant avec le bouton droit de la souris sur l’icône de Clavier+ dans la <a href="https://support.microsoft.com/fr-fr/windows/e159e8d2-9ac5-b2bd-61c5-bb63c1d437c3">zone de notification</a> à côté de l’horloge.

<dt><kbd>/quit</kbd>
<dd>Quitter Clavier+ silencieusement. Si Clavier+ n’est pas lancé, ne rien faire.

<dt><kbd>/addtext</kbd>
<dd>Afficher la fenêtre d’ajout de raccourci texte. Si nécessaire, Clavier+ est lancé en tâche de fond et la fenêtre de configuration est affichée.

<dt><kbd>/addcommand</kbd>
<dd>Afficher la fenêtre d’ajout de raccourci de lancement de programme. Si nécessaire, Clavier+ est lancé en tâche de fond et la fenêtre de configuration est affichée.

<dt><kbd>/load <i>fichier_de_configuration.ini</i></kbd>
<dd>Si Clavier+ n’est pas déjà lancé, le lancer en chargeant le fichier de configuration indiqué. Si Clavier+ est déjà lancé, ne pas le relancer mais charger un nouveau fichier de configuration. Le nom de fichier doit être mis entre guillemets s’il contient des espaces, par exemple&nbsp;: <kbd>clavier.exe /load "Raccourcis Internet.ini"</kbd>

<dt><kbd>/merge <i>fichier_de_configuration.ini</i></kbd>
<dd>Si Clavier+ n’est pas déjà lancé, le lancer en fusionnant le fichier de configuration indiqué au fichier de configuration par défaut – ou à celui spécifié par <kbd>/load</kbd>, s’il y a lieu. Si Clavier+ est déjà lancé, fusionner le fichier de configuration indiqué à sa configuration actuelle. Les raccourcis à fusionner qui créeraient des conflits ou des ambigüités ne sont pas ajoutés.

<dt><kbd>/sendkeys "<i>texte</i>"</kbd>
<dd>Simuler une frappe de touches. Le texte suit la <a href="#text">syntaxe indiquée ci-dessus</a>. Cette option permet, par exemple, d’écrire du texte en double-cliquant sur un raccourci Windows, ou au lancement de Windows, ou encore en choisissant une commande dans le menu contextuel de l’explorateur. Les guillemets et les antislashs doivent être précédés d’un antislash, par exemple&nbsp;: <kbd>clavier.exe /sendkeys "Voici un \"mot\" entre guillemets et un seul \\ antislash"</kbd>
</dl>

<p>Si Clavier+ est lancé sans argument, son comportement dépend de si Clavier+ était déjà lancé. Si non, Clavier+ est lancé silencieusement. Si oui, Clavier+ ne se relance pas mais affiche la fenêtre de configuration. Cela permet d’accéder aux options de Clavier+ si son icône est masquée.


<h2 id="limits">Problèmes connus</h2>


<h3 id="limits-unavailable-shortcuts">Raccourcis indisponibles</h3>

<p>Certaines touches spéciales ne peuvent être utilisées&nbsp;:
<pre>
Impr écran
Pause
F12
</pre>

<p>Les touches spéciales «&nbsp;Rafraîchir le navigateur&nbsp;», «&nbsp;Augmenter le volume&nbsp;», etc. sont partiellement supportées. On peut créer des raccourcis les utilisant, et même modifier leur comportement d’origine. Cependant, ceci peut surprendre, l’action de ces touches s’exécute lorsqu’on les enfonce dans la boîte de dialogue <i>Ajouter</i>. De plus, comme Windows ne propose pas de méthode générique pour récupérer le nom de ces touches spéciales, elles s’affichent sous la forme d’un numéro (par exemple&nbsp;: <kbd>#183</kbd>).

<p>Les raccourcis systèmes de Windows ne peuvent être modifiés. En particulier, Windows 8 réserve la plupart des raccourcis du type <kbd>Win + <i>lettre</i></kbd> et <kbd>Win + <i>chiffre</i></kbd>. La <a href="https://support.microsoft.com/en-us/help/12445/windows-keyboard-shortcuts">documentation Microsoft</a> fournit la liste des raccourcis concernés.


<h3 id="limits-side-effects">Raccourcis déconseillés</h3>

<p>Par défaut dans Windows, le raccourci clavier <kbd>Alt + Maj gauche</kbd> sert à changer la langue du clavier. Il est vivement recommandé de ne pas utiliser de raccourci clavier de type <kbd>Alt + Maj + <i>touche</i></kbd>, car vous risqueriez de changer la langue du clavier sans le vouloir.


<h3 id="limits-programs">Programmes partiellement incompatibles</h3>

<p>Clavier+ peut rencontrer des difficultés avec certains programmes, notamment en ce qui concerne la frappe de texte et la simulation de frappe de touche&nbsp;:
<ul>
<li>Certains programmes multiplateformes, qui ne respectent pas les standards de Windows en matière de gestion du clavier. On peut citer les programmes <b>Java</b> comme <b>OpenOffice</b>, les logiciels Mozilla (<b>Firefox</b>, <b>Thunderbird</b>), <b>Opera</b>, etc. En cas de souci, utilisez la syntaxe <kbd>[|<i>texte</i>|]</kbd> pour forcer Clavier+ à écrire le texte en bas niveau (meilleure compatibilité mais plus lent et plus limité).
<li>Les <b>jeux</b>, car ils gèrent le clavier sans se soucier de Windows, et donc de Clavier+.
<li>Les autres utilitaires de gestion du clavier, car ils peuvent détecter certains raccourcis avant Clavier+.
<li>Les programmes système, car là aussi ils gèrent le clavier de manière spéciale. On peut citer par exemple <kbd>command.com</kbd>, les émulateurs et machines virtuelles (Cygwin, VirtualPC), les logiciels de virtualisation (VNC).
</ul>


<h3 id="limits-conditions">Raccourcis avec conditions</h3>

<p>Clavier+ ne peut pas intercepter de raccourcis clavier de manière conditionnelle. Quand un raccourci a des <a href="#conditions">conditions</a>, Clavier+ l’intercepte de manière inconditionnelle. Lorsque vous effectuez le raccourci, Clavier+ exécute l’action du raccourci si les conditions sont remplies, ou bien simule une frappe de touches pour le raccourci de manière à annuler l’interception.

<p>Ce comportement introduit un délai et est incompatible avec certains programmes qui interceptent eux aussi des raccourcis. Par exemple, Phrase Express <a href="https://github.com/guilryder/clavier-plus/issues/30">détecte deux fois</a> les frappes de touches de raccourcis dont la condition n’est pas remplie.


<h3 id="limits-repetition">Répétition</h3>

<p>Il n’est pas possible de répéter certains raccourcis sans relâcher puis renfoncer toutes les touches spéciales (Ctrl, Alt, etc.) du raccourci. Par exemple, si vous avez associé des actions à <kbd>Ctrl + A</kbd> et <kbd>Ctrl + B</kbd>, pour exécuter les deux actions à la suite vous ne pouvez pas simplement enfoncer <kbd>Ctrl + A</kbd> puis relâcher A et enfoncer B. Vous devez enfoncer <kbd>Ctrl + A</kbd>, relâcher toutes les touches, puis enfoncer <kbd>Ctrl + B</kbd>.

<p>Cette limitation existe car, pour les raccourcis qui simulent des raccourcis clavier ou lancent des programmes, Clavier+ doit relâcher les touches spéciales pour ne pas que les raccourcis se mélangent ou que le programme lancé voie qu’une touche spéciale est enfoncée. Par exemple, si <kbd>Ctrl + A</kbd> est associé à <kbd>[Alt + B]</kbd>, il faut relâcher <kbd>Ctrl</kbd>, sinon <kbd>Ctrl + Alt + B</kbd> sera simulé, au lieu de <kbd>Alt + B</kbd>. Or, pour des raisons techniques, Clavier+ ne peut pas détecter si l’utilisateur a ou non relâché les touches spéciales avant la fin du raccourci, et donc s’il doit ou non les renfoncer pour permettre la répétition du raccourci. Dans le doute, pour éviter des comportements étranges, il suppose que non.


<h2 id="faq">Questions fréquentes (FAQ)</h2>

{{FAQ}}

<h2 id="examples">Exemples de raccourcis clavier</h2>

{{EXAMPLES}}
